# dsss

## 项目介绍
通信原理课程设计，直接序列扩频通信系统仿真设计
MATLAB实现
①实现基带信号生成，扩频码生成，扩频过程，调制，信号经过信道，解调，解
扩，计算误码率。
②实现接收端的伪码捕获跟踪（忽略载波跟踪问题）；捕获算法实现（例如：FFT
快速伪码捕获算法），码跟踪环的实现（例如：超前-滞后环）
③仿真时需注意发射端的伪码序列与接收端的伪码序列需保持不同步，通过②的
实现，完成伪码的同步

## 原理

### 信号捕获

信号捕获是指接收机本地信号与接收信号载波频率、伪码相位粗略同步的过程。码相位和多普勒频率的不确定性使得接收信号的伪码相位和载波频率对于接收机而言是未知的。GPS信号捕获实际包括伪码捕获和载波捕获两个方面。**FFT伪码捕获法**相比于顺序搜索法具有处理速度快的优点，适合软件处理。实际上可以利用FFT变换进行载波频率的捕获，在弱信号条件下需要提高频率捕获精度以提高捕获相关峰值。

搜索接收信号与本地信号之间的相关值，取其最大值，若超过判决门限，则表明信号判决成功（最大值小于判决门限则表明没有捕获到信号，需要重新调制本地载波频率），取出最大值对应的伪码相位和载波频率，进入**跟踪环**处理

捕获判决门限可以根据理论公式求得

### 信号跟踪

信号捕获获得了GPS信号载波频率和伪码相位的粗略估计值，但是，随着时间增加，卫星和接收机的相对运动带来的多普勒效应使得载波频率和伪码相位出现偏差，这一偏差需要及时修正，否则接收机将失去对载波频率和伪码相位的锁定，这一修正的过程就是信号跟踪的过程。GPS信号跟踪应包括两部分，载波跟踪环（跟踪载波频率）和伪码跟踪环（跟踪伪码相位），两者均由求和累加器、环路鉴别器和环路滤波器组成，环路鉴别器确定跟踪环的类型，如锁相环（PLL）、科斯塔斯环（Costas PLL）、锁频环（FLL）或码跟踪环（DLL）

GPS载波跟踪环中，包括频率跟踪环和相位跟踪环。采用**Costas锁相环**跟踪载波相位。

GPS相位跟踪环中，基带信号分别与超前（E）1/2码元，及时（P），滞后（L）1/2码元的本地C/A码相乘，然后求和累加，由码相位鉴别器计算出码相位误差，该误差经滤波后反馈到码生成器调整码相位

载波跟踪环和相位跟踪环中的鉴别器误差计算都有响应的算法

## GPS中频信号仿真器设计

### 中频信号数学模型

### 多普勒频移仿真

GPS信号的多普勒平移会引起载波频率和C/A码相位的变化

### C/A码仿真

选择不同相位的G2码模2相加，然后与G1模2相加，便得到相应的C/A码

### 数据码仿真

数据码为二进制码

### 多径干扰仿真

（暂不考虑）

### 噪声仿真

### 信号滤波

设计FIR线性相位滤波器对仿真信号滤波

## 弱信号捕获方法设计





## 变量含义

## 函数功能

##### PNcode.m

作用：用于产生m序列

输入：n位初始化寄存器reg，n+1位本原多项式系数polynomial（matlab函数gfprimfd可以求取）

输出：一个长度为2^n-1的m序列（伪随机序列）

实现方法：输出+反馈+移位+........

##### polynomial4bestm.m

作用：寻找n阶优选对所对应的本原多项式 

输入：阶数n

输出：两个本原多项式系数

实现方法：同一阶数n对应多个本原多项式，遍历它们，不重复地选取其中两个，使用PNcode产生一对m序列，对这对m序列求相关函数，如果该相关函数满足优选对的要求，返回对应的两个本原多项式，否则继续遍历，直到满足

##### rela.m

作用：求两个等长序列的相关值

输入：两个 m序列，m1,m2

输出：相关值r

实现方法：两序列一致的数目（A）减去不一致的数目（D）

##### dec2Binvector.m

作用：十进制数转化为二进制数组

输入：一个大于0的十进制数

输出：对应的二进制数组

实现方法：（略）

##### Goldcode.m

作用：产生gold码

输入：两个长度相等的m序列优选对

输出：gold码

实现方法：异或运算，logic转换为double

##### BalancedGoldcode.m

作用：获取平衡gold码

输入：优选对所对应的本原多项式

输出：平衡gold码

实现方法：不同的m序列的初始寄存器，对应不同的gold码。遍历寄存器的初始化方式，产生gold码，如果该gold码满足平衡gold码的条件（counter4one-counter4zero==1），返回此时的gold码
